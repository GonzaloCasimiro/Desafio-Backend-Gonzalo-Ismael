
<style>
        .cart-dropdown {
            display: none;
        }

        .cart-dropdown.show {
            display: block;
        }
    </style>
<header class="bg-white shadow-md py-4">
    <div class="container mx-auto px-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold text-gray-800">Ecommerce</h1>
        <div class="relative">
            <button id="user-button" class="text-gray-800 font-semibold focus:outline-none flex items-center shadow-md hover:shadow-lg hover:underline px-3 py-1">
                <i class="fas fa-user mr-2 text-gray-600"></i>
                {{name}} {{lastname}}
            </button>
            <div id="user-modal" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-2 z-10">
                <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">Mi perfil</a>
                <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">Editar perfil</a>
                <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">Cerrar sesión</a>
            </div>
        </div>
        <div class="relative">
            <button id="cart-button" class="text-gray-800 font-semibold focus:outline-none flex items-center shadow-md hover:shadow-lg hover:underline px-3 py-1">
                <i class="fas fa-shopping-cart mr-2 text-gray-600"></i>
                Carrito
            </button>
            <!-- Modal Carrito -->
            <div id="cart-modal" class="hidden absolute right-0 mt-2 w-72 bg-white rounded-md shadow-lg p-4 z-10">
                <!-- Lista de Productos -->
                <ul class="divide-y divide-gray-200">
                    <!-- Producto 1 -->
                    <li class="flex justify-between py-2">
                        <div>
                            <p class="text-gray-800 font-semibold">Producto 1</p>
                            <p class="text-gray-500">$20.00</p>
                        </div>
                        <div class="flex items-center">
                            <button class="text-gray-600 focus:outline-none mr-1">-</button>
                            <span>1</span>
                            <button class="text-gray-600 focus:outline-none ml-1">+</button>
                        </div>
                    </li>
                    <!-- Producto 2 -->
                    <li class="flex justify-between py-2">
                        <div>
                            <p class="text-gray-800 font-semibold">Producto 2</p>
                            <p class="text-gray-500">$30.00</p>
                        </div>
                        <div class="flex items-center">
                            <button class="text-gray-600 focus:outline-none mr-1">-</button>
                            <span>2</span>
                            <button class="text-gray-600 focus:outline-none ml-1">+</button>
                        </div>
                    </li>
                    <!-- Más productos aquí -->
                </ul>
                <!-- Botones -->
                <p id="cartTotal">Precio total : 40</p>
                <div class="mt-4 flex justify-between">
                    <button class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-md focus:outline-none">Pagar</button>
                    <button class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md focus:outline-none">Vaciar</button>
                </div>
            </div>
        </div>
    </div>

   
</div>
    </div>
</header>

<script>
    // Manejo del modal de usuario
    const userButton = document.getElementById('user-button');
    const userModal = document.getElementById('user-modal');

    userButton.addEventListener('click', () => {
        userModal.classList.toggle('hidden');
    });

    window.addEventListener('click', (event) => {
        if (!userButton.contains(event.target) && !userModal.contains(event.target)) {
            userModal.classList.add('hidden');
        }
    });


        document.getElementById('cart-button').addEventListener('click', function () {
            var cart = document.getElementById('cart');
            console.log('asd')
            cart.classList.toggle('show');
        });
          const cid="{{cartId}}"

    const cartButton = document.getElementById('cart-button');
    const cartModal = document.getElementById('cart-modal');

    cartButton.addEventListener('click', () => {
        cartModal.classList.toggle('hidden');
    });

    window.addEventListener('click', (event) => {
        if (!cartButton.contains(event.target) && !cartModal.contains(event.target)) {
            cartModal.classList.add('hidden');
        }
    });    



</script>
